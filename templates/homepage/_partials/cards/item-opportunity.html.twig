<div class="card item-card-home border-0 shadow-sm h-100 w-100 rounded-3">

    <div class="card-body p-4 d-flex flex-column">

        <div class="d-flex justify-content-between align-items-start mb-3">
            <div class="flex-shrink-0">
                <img src="{{ image_url|default(asset('img/default-image.png')) }}"
                     alt="{{ image_alt|default('opportunity.image'|trans) }}"
                     class="rounded-circle card-profile-img">
            </div>
            <div class="d-inline-flex align-items-center gap-1 text-muted text-end ms-3 mt-1">
                <i class="material-icons text-success fs-5">{{ status_icon|default('visibility') }}</i>
                <span class="fw-semibold small">{{ status_text|default('opened_registrations'|trans) }}</span>
            </div>
        </div>

        <h4 class="fw-bold mb-3">{{ title|default('opportunities'|trans) }}</h4>

        {% if (phases_count != 0) %}
            <p class="text-danger fw-bold mb-2">Inscrições de {{ phases[0].startDate.format('d/m/Y') }} até {{ phases[0].endDate.format('d/m/Y') }}</p>
            <p class="text-muted mb-4">{{ description|default('Descrição do evento ou oportunidade aqui.') }}</p>
        {% endif %}

        <h6 class="fw-bold mb-2">{{ 'social_media'|trans }} ({{ social_media_count|default(0) }}):</h6>
        <p class="text-danger fw-bold mb-3">{{ social_medias|default('Nenhuma rede social especificada') }}</p>

        <h6 class="fw-bold mb-2">{{ 'phases'|trans }} ({{ phases_count|default(0) }}):</h6>
        {% if (phases_count != 0) %}
            <p class="text-danger fw-bold mb-4">{{ opportunity.phases|map(p => p.name)|join(', ') }}</p>
        {% else %}
            <p class="text-danger fw-bold mb-4">Nenhuma fase especificada</p>
        {% endif %}

        <div class="d-grid mt-auto pt-3">
            <a href="{{ path('web_opportunity_details', { id: opportunity.id }) }}" class="btn btn-primary d-flex align-items-center justify-content-center gap-2 py-2">
                <span class="fw-bold">{{ 'check'|trans }}</span>
                <i class="material-icons">arrow_forward</i>
            </a>
        </div>

    </div>
</div>